module.exports.filetypes = [
    {type:"audio/aac",extension:".aac",description:"AAC audio"},
    {type:"application/x-abiword",extension:".abw",description:"AbiWord document"},
    {type:"application/x-freearc",extension:".arc",description:"Archive document (multiple files embedded)"}, 
    {type:"video/x-msvideo",extension:".avi",description:"AVI: Audio Video Interleave"},
    {type:"application/vnd.amazon.ebook",extension:".azw",description:"Amazon Kindle eBook format"},
    {type:"application/octet-stream",extension:".bin",description:"Any kind of binary data"},
    {type:"image/bmp",extension:".bmp",description:"Windows OS/2 Bitmap Graphics"},
    {type:"application/x-bzip",extension:".bz",description:"BZip archive"},
    {type:"application/x-bzip2",extension:".bz2",description:"BZip2 archive"},
    {type:"application/x-csh",extension:".csh",description:"C-Shell script"},
    {type:"text/css",extension:".css",description:"Cascading Style Sheets (CSS)"},
    {type:"text/csv",extension:".csv",description:"Comma-separated values (CSV)"},
    {type:"application/msword",extension:".doc",description:"Microsoft Word"},
    {type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:".docx",description:"Microsoft Word (OpenXML)"},
    {type:"application/vnd.ms-fontobject",extension:".eot",description:"MS Embedded OpenType fonts"},
    {type:"application/epub+zip",extension:".epub",description:"Electronic publication (EPUB)"},
    {type:"application/gzip",extension:".gz",description:"GZip Compressed Archive"},
    {type:"image/gif",extension:".gif",description:"Graphics Interchange Format (GIF)"},
    {type:"text/html",extension:".htm",description:"HyperText Markup Language (HTML)"},
    {type:"text/html",extension:".html",description:"HyperText Markup Language (HTML)"},
    {type:"image/vnd.microsoft.icon",extension:".ico",description:"Icon format	"},
    {type:"text/calendar",extension:".ics",description:"iCalendar format"},
    {type:"application/java-archive",extension:".jar",description:"Java Archive (JAR)"},
    {type:"image/jpeg",extension:".jpeg",description:"JPEG images"},
    {type:"image/jpeg",extension:".jpg",description:"JPEG images"},
    {type:"text/javascript",extension:".js",description:"JavaScript"},
    {type:"application/json",extension:".json",description:"JSON format"},
    {type:"application/ld+json",extension:".jsonld",description:"JSON-LD format"},
    {type:"audio/midi audio/x-midi",extension:".mid",description:"Musical Instrument Digital Interface"},
    {type:"audio/midi audio/x-midi",extension:".midi",description:"Musical Instrument Digital Interface (MIDI)"},
    {type:"text/javascript",extension:".mjs",description:"JavaScript module"},
    {type:"audio/mpeg",extension:".mp3",description:"MP3 audio"},
    {type:"video/mpeg",extension:".mpeg",description:"MPEG Video"},
    {type:"application/vnd.apple.installer+xml",extension:".mpkg",description:"Apple Installer Package"},
    {type:"application/vnd.oasis.opendocument.presentation",extension:".odp",description:"OpenDocument presentation document"},
    {type:"application/vnd.oasis.opendocument.spreadsheet",extension:".ods",description:"OpenDocument spreadsheet document"},
    {type:"application/vnd.oasis.opendocument.text",extension:".odt",description:"OpenDocument text document"},
    {type:"audio/ogg",extension:".oga",description:"OGG audio"},
    {type:"video/ogg",extension:".ogv",description:"OGG video"},
    {type:"application/ogg",extension:".ogx",description:"OGG"},
    {type:"audio/opus",extension:".opus",description:"Opus audio"},
    {type:"font/otf",extension:".otf",description:"OpenType font"},
    {type:"image/png",extension:".png",description:"Portable Network Graphics"},
    {type:"application/pdf",extension:".pdf",description:"Adobe Portable Document Format (PDF)"},
    {type:"application/x-httpd-php",extension:".php",description:"Hypertext Preprocessor (Personal Home Page)"},
    {type:"application/vnd.ms-powerpoint",extension:".ppt",description:"Microsoft PowerPoint"},
    {type:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:".pptx",description:"Microsoft PowerPoint (OpenXML)"},
    {type:"application/vnd.rar",extension:".rar",description:"RAR archive"},
    {type:"application/rtf",extension:".rtf",description:"Rich Text Format (RTF)"},
    {type:"application/x-sh",extension:".sh",description:"Bourne shell script"},
    {type:"image/svg+xml",extension:".svg",description:"Scalable Vector Graphics (SVG)"},
    {type:"application/x-shockwave-flash",extension:".swf",description:"Small web format (SWF) or Adobe Flash document"},
    {type:"application/x-tar",extension:".tar",description:"Tape Archive (TAR)"},
    {type:"image/tiff",extension:".tif",description:"Tagged Image File Format (TIFF)"},
    {type:"image/tiff",extension:".tiff",description:"Tagged Image File Format (TIFF)"},
    {type:"video/mp2t",extension:".ts",description:"MPEG transport stream"},
    {type:"font/ttf",extension:".ttf",description:"TrueType Font"},
    {type:"text/plain",extension:".txt",description:"Text, (generally ASCII or ISO 8859-n)"},
    {type:"application/vnd.visio",extension:".vsd",description:"Microsoft Visio"},
    {type:"audio/wav",extension:".wav",description:"Waveform Audio Format"},
    {type:"audio/webm",extension:".weba",description:"WEBM audio"},
    {type:"video/webm",extension:".webm",description:"WEBM video"},
    {type:"image/webp",extension:".webp",description:"WEBP image"},
    {type:"font/woff",extension:".woff",description:"Web Open Font Format (WOFF)"},
    {type:"font/woff2",extension:".woff2",description:"Web Open Font Format (WOFF)"},
    {type:"application/xhtml+xml",extension:".xhtml",description:"XHTML"},
    {type:"application/vnd.ms-excel",extension:".xls",description:"Microsoft Excel"},
    {type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:".xlsx",description:"Microsoft Excel (OpenXML)"},
    {type:"application/xml",extension:".xml",description:"XML - not readable from casual users (RFC 3023, section 3)"},
    {type:"text/xml",extension:".xml",description:"XML - if readable from casual users (RFC 3023, section 3)"},
    {type:"application/vnd.mozilla.xul+xml",extension:".xul",description:"XUL"},
    {type:"application/zip",extension:".zip",description:"ZIP archive"},
    {type:"video/3gpp",extension:".3gp",description:"3GPP video container"},
    {type:"audio/3gpp",extension:".3gp",description:"3GPP audio container"},
    {type:"video/3gpp2",extension:".3g2",description:"3GPP2 video container"},
    {type:"audio/3gpp2",extension:".3g2",description:"3GPP2 audio container"},
    {type:"application/x-7z-compressed",extension:".7z",description:"7-zip archive"} 
];

module.exports.findFileTypeIndex = (filetype)=>{
    for(var i in filetypes){
        if(filetype==filetypes[i].type){
            return i;
        }
    }
    console.warn("Encoding/decoding of unsupported file type: '"+filetype+"' skipped.");
    return 99;  //this will be used to indicate that file format is unsupported.
};

module.exports.countSupportedFilesOnly = (filezArray)=>{
    let numberOfSupportedFiles = 0;
    for(var i in filezArray){
        if(findFileTypeIndex(filezArray[i].type)!=99){  
            numberOfSupportedFiles++;
        }
    }
    return numberOfSupportedFiles;
};

/* 
    Source of file types info: 
    https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types
    
    .aac	AAC audio	                                        audio/aac
    .abw	AbiWord document	                                application/x-abiword
    .arc	Archive document (multiple files embedded)	        application/x-freearc
    .avi	AVI: Audio Video Interleave	                        video/x-msvideo 
    .azw	Amazon Kindle eBook format	                        application/vnd.amazon.ebook 
    .bin	Any kind of binary data	                            application/octet-stream 
    .bmp	Windows OS/2 Bitmap Graphics	                    image/bmp 
    .bz	    BZip archive	                                    application/x-bzip 
    .bz2	BZip2 archive	                                    application/x-bzip2 
    .csh	C-Shell script	                                    application/x-csh 
    .css	Cascading Style Sheets (CSS)	                    text/css 
    .csv	Comma-separated values (CSV)	                    text/csv 
    .doc	Microsoft Word	                                    application/msword 
    .docx	Microsoft Word (OpenXML)	                        application/vnd.openxmlformats-officedocument.wordprocessingml.document
    .eot	MS Embedded OpenType fonts	                        application/vnd.ms-fontobject 
    .epub	Electronic publication (EPUB)	                    application/epub+zip 
    .gz	    GZip Compressed Archive	                            application/gzip 
    .gif	Graphics Interchange Format (GIF)	                image/gif
    .htm    HyperText Markup Language (HTML)                    text/html
    .html	HyperText Markup Language (HTML)	                text/html
    .ico	Icon format	                                        image/vnd.microsoft.icon 
    .ics	iCalendar format	                                text/calendar 
    .jar	Java Archive (JAR)	                                application/java-archive 
    .jpeg   JPEG images	                                        image/jpeg 
    .jpg	JPEG images	                                        image/jpeg 
    .js	    JavaScript	                                        text/javascript, per the following specifications: 
                                                                    https://html.spec.whatwg.org/multipage/#scriptingLanguages
                                                                    https://html.spec.whatwg.org/multipage/#dependencies:willful-violation
                                                                    https://datatracker.ietf.org/doc/draft-ietf-dispatch-javascript-mjs/
    .json	JSON format	                                        application/json
    .jsonld	JSON-LD format	                                    application/ld+json 
    .mid    Musical Instrument Digital Interface                audio/midi audio/x-midi 
    .midi	 (MIDI)	                                            audio/midi audio/x-midi 
    .mjs	JavaScript module	                                text/javascript 
    .mp3	MP3 audio	                                        audio/mpeg 
    .mpeg	MPEG Video	                                        video/mpeg 
    .mpkg	Apple Installer Package	                            application/vnd.apple.installer+xml 
    .odp	OpenDocument presentation document	                application/vnd.oasis.opendocument.presentation 
    .ods	OpenDocument spreadsheet document	                application/vnd.oasis.opendocument.spreadsheet 
    .odt	OpenDocument text document	                        application/vnd.oasis.opendocument.text 
    .oga	OGG audio	                                        audio/ogg 
    .ogv	OGG video	                                        video/ogg 
    .ogx	OGG	                                                application/ogg 
    .opus	Opus audio	                                        audio/opus 
    .otf	OpenType font	                                    font/otf 
    .png	Portable Network Graphics	                        image/png 
    .pdf	Adobe Portable Document Format (PDF)	            application/pdf 
    .php	Hypertext Preprocessor (Personal Home Page)	        application/x-httpd-php 
    .ppt	Microsoft PowerPoint	                            application/vnd.ms-powerpoint 
    .pptx	Microsoft PowerPoint (OpenXML)	                    application/vnd.openxmlformats-officedocument.presentationml.presentation
    .rar	RAR archive	                                        application/vnd.rar 
    .rtf	Rich Text Format (RTF)	                            application/rtf 
    .sh	    Bourne shell script	                                application/x-sh 
    .svg	Scalable Vector Graphics (SVG)	                    image/svg+xml 
    .swf	Small web format (SWF) or Adobe Flash document	    application/x-shockwave-flash 
    .tar	Tape Archive (TAR)	                                application/x-tar 
    .tif    Tagged Image File Format (TIFF)                     image/tiff
    .tiff	Tagged Image File Format (TIFF)	                    image/tiff 
    .ts	    MPEG transport stream	                            video/mp2t 
    .ttf	TrueType Font	                                    font/ttf 
    .txt	Text, (generally ASCII or ISO 8859-n)	            text/plain 
    .vsd	Microsoft Visio	                                    application/vnd.visio 
    .wav	Waveform Audio Format	                            audio/wav 
    .weba	WEBM audio	                                        audio/webm 
    .webm	WEBM video	                                        video/webm 
    .webp	WEBP image	                                        image/webp 
    .woff	Web Open Font Format (WOFF)	                        font/woff 
    .woff2	Web Open Font Format (WOFF)	                        font/woff2 
    .xhtml	XHTML	                                            application/xhtml+xml 
    .xls	Microsoft Excel	                                    application/vnd.ms-excel 
    .xlsx	Microsoft Excel (OpenXML)	                        application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 
    .xml	XML	not for casual users                            application/xml if not readable from casual users (RFC 3023, section 3) 
    .xml    XML for casual users                                text/xml if readable from casual users (RFC 3023, section 3) 
    .xul	XUL	                                                application/vnd.mozilla.xul+xml 
    .zip	ZIP archive	                                        application/zip 
    .3gp	3GPP audio/video container	                        video/3gpp audio/3gpp if it doesn't contain video 
    .3g2	3GPP2 audio/video container	                        video/3gpp2 audio/3gpp2 if it doesn't contain video 
    .7z	7-zip archive	                                        application/x-7z-compressed
    */


